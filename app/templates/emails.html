{% extends "base.html" %}

{% block title %}Emails - Postal Warmup{% endblock %}

{% block content %}
<div class="row">
    <div class="col-12">
        <h1 class="mb-4">
            <i class="bi bi-envelope"></i> Email History
        </h1>
    </div>
</div>

<!-- Filters -->
<div class="row mb-3">
    <div class="col-md-3">
        <input type="text" class="form-control" id="search-input" placeholder="Suche...">
    </div>
    <div class="col-md-2">
        <select class="form-select" id="status-filter">
            <option value="">Alle Status</option>
            <option value="sent">Gesendet</option>
            <option value="failed">Fehlgeschlagen</option>
            <option value="bounced">Zurückgewiesen</option>
        </select>
    </div>
    <div class="col-md-2">
        <select class="form-select" id="delivery-filter">
            <option value="">Alle Zustellungen</option>
            <option value="inbox">Inbox</option>
            <option value="spam">Spam</option>
            <option value="pending">Ausstehend</option>
            <option value="unknown">Unbekannt</option>
        </select>
    </div>
    <div class="col-md-3">
        <button class="btn btn-primary" onclick="applyFilters()">
            <i class="bi bi-funnel"></i> Filter anwenden
        </button>
        <button class="btn btn-secondary" onclick="clearFilters()">
            <i class="bi bi-x-circle"></i> Zurücksetzen
        </button>
    </div>
</div>

<!-- Email Table -->
<div class="card">
    <div class="card-body">
        <div class="table-responsive">
            <table class="table table-hover">
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Zeitpunkt</th>
                        <th>Von</th>
                        <th>An</th>
                        <th>Betreff</th>
                        <th>Typ</th>
                        <th>Status</th>
                        <th>Zustellung</th>
                        <th>Gelesen</th>
                    </tr>
                </thead>
                <tbody id="emails-table-body">
                    <tr>
                        <td colspan="9" class="text-center">
                            <i class="bi bi-hourglass-split"></i> Lade Emails...
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- Pagination -->
        <nav id="pagination-nav" class="mt-3">
            <ul class="pagination justify-content-center" id="pagination">
            </ul>
        </nav>
    </div>
</div>
{% endblock %}

{% block extra_scripts %}
<script src="{{ url_for('static', filename='js/emails.js') }}"></script>
{% endblock %}
